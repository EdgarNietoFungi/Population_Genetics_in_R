```{r,message=FALSE,echo=FALSE}
  html <- TRUE
  library(knitcitations)
  bib <- read.bibtex("bibtexlib.bib")
  opts_chunk$set(tidy = FALSE, message = FALSE, warning = FALSE, 
                 fig.width = 10, fig.height = 6, cache = TRUE)
  if (html) opts_chunk$set(out.width = "700px", dpi = 300)
  # use this to set knitr options: 
  # http://yihui.name/knitr/options #chunk_options
```

---
title: '2: Data Preparation'
---

Introduction
----
<!--- Nik smells like fairy feets. --->
This section will breifly go over the basics of data import into *poppr* with the
GenAlEx format. We will show examples of haploid, diploid, and polyploid data
sets and show you how you can format your data if it's grouped by multiple 
hierarchical levels. 

GenAlEx data format
----

GenAlEx is a very popular add-on for Microsoft Excel. It is relatively easy to 
use because of its familiar, menu-driven interface. It also gives the user the
option to include information on population groupings, regional groupings, and 
xy coordinates. The flexibility of this format made it a clear choice for import
into *poppr*. 

The data format is standard in that individuals are defined in the rows and loci
are defined in the columns. The first three rows are reserved for metadata and 
the first two columns are reserved for the individual names and population names,
respectively. The examples we will be using are codominant data, but AFLP data
is also accepted. 

To start simple, let's examine the input file for the `monpop` data set containg
694 isolates of *Monolinia fructicola* genotyped over 13 haploid loci 
`r citep(bib["everhart2014finescale"])`. This is a data set that lives within
the *poppr* package and can be loaded with the following command:

```{r}
data(monpop)
monpop
```

To see how a GenAlEx file can be constructed with this data, we will first write
this data to a file on our desktop with the command `genind2genalex`:

```{r, eval=FALSE}
genind2genalex(monpop, filename = "~/Desktop/monpop.csv")
```
```{r, echo = FALSE}
cat("Extracting the table ... Writing the table to ~/Desktop/monpop.csv ... Done.")
```
data
![monpop](images/monpop.png)
data
![monpop_ideal](images/monpop_ideal.png)
data
![diploid](images/diploid.png)
data
![tetraploid](images/tetraploid.png)


 - GenAlEx data
    - haploid
    - diploid
    - polyploid
    
Other accepted formats
----
 - Others (FSTAT, Structure, Genetix, Genepop)
 - importing data frames with columns of data
 - formatting multiple population hierarchical levels

